(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{58:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(59),c=a(56),r=a.n(c),i=a(57),s=a(60),o=a.n(s),u="c07e91d5d5c572c0bf5dabe0ae7a4fc6",p="https://api.themoviedb.org/3",l={CREDITS:"credits",REVIEWS:"reviews"},h={getTrendingApi:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat(p,"/trending/movie/week?api_key=").concat(u));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSearchInputApi:function(e){return o.a.get("".concat(p,"/search/movie?api_key=").concat(u,"&query=").concat(e,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.data.results}))},getMovieDetailsApi:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat(p,"/movie/").concat(t,"?api_key=").concat(u));case 2:return a=e.sent,e.abrupt("return",Object(n.a)({},a.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCastReviewApi:function(){var e=Object(i.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat(p,"/movie/").concat(t,"/").concat(a,"?api_key=").concat(u));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()};t.b=h},91:function(e,t,a){e.exports={containerDivNav:"MovieDetailsPage_containerDivNav__1pRdC",movieDetailsButton:"MovieDetailsPage_movieDetailsButton__1RE8m",movieDetailsImg:"MovieDetailsPage_movieDetailsImg__2_-5w",app:"MovieDetailsPage_app__2Hk4E",genreList:"MovieDetailsPage_genreList__1r0pd"}},97:function(e,t,a){"use strict";a.r(t);var n=a(56),c=a.n(n),r=a(59),i=a(57),s=a(15),o=a(16),u=a(18),p=a(17),l=a(0),h=a(10),v=a(2),m=[{path:"/cast",name:"Cast",exact:!1,component:Object(l.lazy)((function(){return a.e(7).then(a.bind(null,94))}))},{path:"/reviews",name:"Reviews",exact:!1,component:Object(l.lazy)((function(){return a.e(9).then(a.bind(null,95))}))}],d=a(19),b=a(91),j=a.n(b),f=a(58),g=a(4),x=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={title:null,poster_path:null,overview:null,vote_average:null,genres:[],from:"",query:""},e.handelClick=function(){e.props.history.push({pathname:e.state.from,search:e.state.query?"query=".concat(e.state.query):null})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,f.b.getMovieDetailsApi(t);case 3:a=e.sent,this.setState(Object(r.a)(Object(r.a)({},a),{},{from:this.props.location.state.from,query:this.props.location.state.query}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.match,a=this.state,n=a.title,c=a.poster_path,r=a.overview,i=a.vote_average,s=a.genres;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{onClick:this.handelClick,type:"button",className:j.a.movieDetailsButton,children:"Go back"}),Object(g.jsx)("img",{src:c?"https://image.tmdb.org/t/p/w500".concat(c):"https://cdn.pixabay.com/photo/2016/12/14/23/08/page-not-found-1907792_960_720.jpg",alt:n,className:j.a.movieDetailsImg}),Object(g.jsx)("h1",{children:n}),Object(g.jsx)("p",{children:"User vote: ".concat(i)}),Object(g.jsx)("h2",{children:"Overview"}),Object(g.jsx)("p",{children:r}),Object(g.jsx)("ul",{className:j.a.genreList,children:s.map((function(e){return Object(g.jsx)("li",{children:e.name},e.id)}))}),Object(g.jsx)("div",{children:"Additional information"}),Object(g.jsx)("div",{className:j.a.containerDivNav,children:m.map((function(e){return Object(g.jsx)("li",{children:Object(g.jsx)(h.c,{exact:e.exact,to:"".concat(t.url).concat(e.path),className:j.a.app,activeClassName:j.a.acvive,children:e.name})},e.path)}))}),Object(g.jsx)(l.Suspense,{fallback:Object(g.jsx)(d.a,{}),children:Object(g.jsx)(v.c,{children:m.map((function(t){return Object(g.jsx)(v.a,{exact:t.exact,path:"".concat(e.props.match.path).concat(t.path),component:t.component},t.path)}))})})]})}}]),a}(l.Component);t.default=x}}]);
//# sourceMappingURL=6.0fa638b9.chunk.js.map